<p-card>
  <ng-template #title>
    <div class="title-container">
      <div class="title-with-icon">
        <i class="ti ti-chart-line icon"></i>
        Quick Stats
      </div>
      <p-button
        icon="ti ti-eye-off"
        [text]="true"
        [rounded]="true"
        size="small"
        severity="secondary"
        (onClick)="hideWidget()"
        [pTooltip]="'Hide this widget'"
        tooltipPosition="left"
      />
    </div>
  </ng-template>
  <div class="stats-container">
    <p class="stat">
      <i class="ti ti-calendar icon"></i> Days since last entry:
      <b>
        {{ daysSinceLastEntry() }}
      </b>
    </p>
    <p-divider [dt]="dividerDt" />
    <p class="stat">
      <i class="li li-lawnmower icon"></i> Days since last mow:
      <b>
        {{ daysSinceLastMow() }}
      </b>
    </p>
    <p-divider [dt]="dividerDt" />
    <p class="stat">
      <i class="ti ti-package icon"></i> Days since last product app:
      <b>
        {{ daysSinceLastProductApplication() }}
      </b>
    </p>
    @if (lawnSeasonPercentage()) {
      <p-divider [dt]="dividerDt" />
      <div class="season-progress">
        <p class="stat">Season progress:</p>
        <p-progressbar [value]="lawnSeasonPercentage()" />
      </div>
    }
  </div>
</p-card>
